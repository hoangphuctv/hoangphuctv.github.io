<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Cách debug trong php &middot; Tran Hoang Phuc</title>

  
  <link rel="stylesheet" href="https://hoangphuctv.github.io/css/poole.css">
  <link rel="stylesheet" href="https://hoangphuctv.github.io/css/hyde.css">
  <link rel="stylesheet" href="https://hoangphuctv.github.io/css/poole-overrides.css">
  <link rel="stylesheet" href="https://hoangphuctv.github.io/css/hyde-overrides.css">
  <link rel="stylesheet" href="https://hoangphuctv.github.io/css/hyde-x.css">
  <link rel="stylesheet" href="https://hoangphuctv.github.io/css/highlight/default.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://hoangphuctv.github.io/touch-icon-144-precomposed.png">
  <link href="https://hoangphuctv.github.io/favicon.png" rel="icon">

  
  
  
  

  <meta name="description" content="Blog lập trình">
  <meta name="keywords" content="lap trinh blog, go, php, linux">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-90002072-5', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>
<body class="theme-base-0b">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1>Tran Hoang Phuc</h1>
      
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="https://hoangphuctv.github.io/">Home</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      
      
      
      
      
      <a href="https://www.facebook.com/phucth.vn"><i class="fa fa-facebook-square fa-3x"></i></a>
      
      
      <a href="https://hoangphuctv.github.io/index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-3x"></i></a>
      </li>
    </ul>

    

    <p>Copyright &copy; 2019 <a href="https://hoangphuctv.github.io/license/">License</a><br/>
       Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>

  </div>
</div>


<div class="content container">
  <div class="post">
    <h1 class="post-title">Cách debug trong php</h1>
    <span class="post-date">Jul 3, 2019 &middot; 3 minute read
    

    
    <br/>
    <a class="label" href="https://hoangphuctv.github.io/categories/echo">echo</a><a class="label" href="https://hoangphuctv.github.io/categories/l%E1%BA%ADp-tr%C3%ACnh-php">Lập trình PHP</a><a class="label" href="https://hoangphuctv.github.io/categories/php">php</a><a class="label" href="https://hoangphuctv.github.io/categories/print">print</a><a class="label" href="https://hoangphuctv.github.io/categories/print_r">print_r</a><a class="label" href="https://hoangphuctv.github.io/categories/var_dump">var_dump</a><a class="label" href="https://hoangphuctv.github.io/categories/var_export">var_export</a>
    </span>
    

<p>Khi đến với một ngôn ngữ lập trình việc quan trong nhất là biết cách debug! Không biết cách debug bạn không thể tìm ra được nguyên nhân dẫn đến các bug. Nguyên lý đơn giản của việc debug là chúng ta phải xem được <strong>giá trị của biến</strong> cần quan tâm tại thời điểm runtime (tức là thời điểm chạy chương trình).</p>

<p>Một số hàm hỗ trợ ta debug như sau:</p>

<ul>
<li>echo, print</li>
<li>var_dump</li>
<li>print_r</li>
<li>var_export</li>
</ul>

<h2 id="hàm-echo-print-trong-php">Hàm echo, print trong php</h2>

<p>Hàm echo, print trong php có tác dụng giống nhau, giúp bạn biết được giá trị của 1 biến tại thời điểm runtime. Ví dụ:</p>

<pre><code>$a = 1;
$b = 2;
$s = $a + $b;
echo $s;
// 3

$c = 1;
$s = $s + $c;

print($s)
// 4
</code></pre>

<p>Muốn biết giá trị này, chúng ta chỉ cần xuất ra màn hình giá trị của chúng. Nhưng hàm <code>echo</code>, <code>print</code> chỉ có thể xuất ra được các kiểu dữ liệu cơ bản của php. Còn các kiểu dữ liệu như Object hay Array thì không xuất ra được. Ta xem tiếp các hàm tiếp theo.</p>

<h2 id="hàm-var-dump-var-export-và-print-r">Hàm var_dump, var_export và print_r</h2>

<p>Cả 3 hàm đều giúp ta xuất ra được cấu trúc dữ liệu phức tạp, nhưng có cách trình bày khác nhau. Ví dụ ta có mảng dữ liệu sau:</p>

<pre><code>$user = new stdClass();
$user-&gt;id = 1;
$user-&gt;name = &quot;admin&quot;;
$user-&gt;role_id = 999;
</code></pre>

<p>Với dữ liệu như trên nếu xuất ra bằng hàm print_r thì sẽ là</p>

<pre><code>print_r($user);
// ket qua
stdClass Object
(
    [id] =&gt; 1
    [name] =&gt; admin
    [role_id] =&gt; 999
)
</code></pre>

<p>Kết quả của hàm <code>var_export</code> sẽ là:</p>

<pre><code>var_export($user);
// ket qua
stdClass::__set_state(array(
   'id' =&gt; 1,
   'name' =&gt; 'admin',
   'role_id' =&gt; 999,
))
</code></pre>

<p>Kết qủa của hàm <code>var_dump</code></p>

<pre><code>var_dump($user);
// ket qua:
class stdClass#1 (3) {
  public $id =&gt;
  int(1)
  public $name =&gt;
  string(5) &quot;admin&quot;
  public $role_id =&gt;
  int(999)
}
</code></pre>

<p>Tuy nhiên với hàm <code>var_dump</code>, nếu có extension xdebug đang enable. Thì sẽ có thêm thông tin, hàm var_dump được gọi tại file nào, tại dòng nào. Nếu đang ở chế độ web (cgi) thì xdebug sẽ có thể highlight cho các biến.</p>

<pre><code>var_dump($user);
// ket qua:
/tmp/test-var_dump.php:5:
class stdClass#1 (3) {
  public $id =&gt;
  int(1)
  public $name =&gt;
  string(5) &quot;admin&quot;
  public $role_id =&gt;
  int(999)
}
</code></pre>

<figure class="wp-block-image">![](https://derickrethans.nl/rst/images/xdebugvardump3.png)<figcaption>Image by derickrethans.nl</figcaption></figure>

<h2 id="tạm-kết">Tạm kết</h2>

<ul>
<li>Cách đơn giản nhất để debug là xuất giá trị của biến cần quan tâm ra để xem.</li>
<li>Nên sử dụng extension xdebug kết hợp với var_dump. Để biết đoạn debug này được in ra từ file nào dòng nào. Phòng trường hợp dump nhiều quá rồi quên luôn dump chỗ nào.</li>
</ul>

<p><em>Còn một số hàm quan trong khác hỗ trợ debug sẽ update thêm sau.</em></p>

  </div>
  

  

</div>




<script src="https://hoangphuctv.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

